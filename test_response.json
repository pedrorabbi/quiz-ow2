{"html_array":["<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>Elegant Quiz</title><link href=\"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap\" rel=\"stylesheet\"><style>:root{--primary:#22c55d;--secondary:#16a349;--hover:#16a349}body{font-family:Roboto,sans-serif;background-color:#f7f8fc;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden}.quiz-container{background-color:#fff;border-radius:12px;box-shadow:0 12px 24px rgba(0,0,0,.1);width:95%;max-width:700px;padding:0;box-sizing:border-box;text-align:center;animation:slideUp .5s ease-in-out;height:100%}.question-container{padding-left:30px;padding-right:30px}@keyframes slideUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}.quiz-container h1{display:none;font-size:22px;color:#333;font-weight:700;margin-bottom:20px;letter-spacing:1px;line-height:1.4}.question{font-size:22px;color:#555;margin-bottom:15px;transition:color .3s ease;height:60px}.options{display:flex;flex-direction:column;gap:15px;margin-bottom:40px}.option{background-color:var(--primary);color:#fff;padding:16px;font-size:14px;font-weight:500;border-radius:8px;text-decoration:none;display:inline-block;transition:all .3s ease;transform:translateY(0)}.option:hover{background-color:var(--hover);transform:translateY(-3px)}.option:active{background-color:var(--secondary);transform:translateY(1px)}.footnote{font-size:12px;color:gray;text-align:center;margin-top:10px}.progress-bar-container{width:100%;height:8px;background-color:#eee;border-radius:5px;margin-bottom:25px;box-shadow:0 1px 3px rgba(0,0,0,.1)}.progress-bar{height:100%;width:0;background-color:var(--primary);border-radius:5px;transition:width .5s ease}.form-container{display:none;margin-top:15px;text-align:center;padding-left:30px;padding-right:30px}#userForm{margin-top:-25px}.form-container input{width:100%;padding:10px;margin-bottom:15px;font-size:16px;border-radius:8px;border:1px solid #ccc;box-sizing:border-box}.form-container button{background-color:var(--primary);color:#fff;padding:15px;font-size:16px;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;width:100%;display:inline-block;box-sizing:border-box;text-align:center}.form-container button:hover:not(:disabled){background-color:var(--hover)}.form-container button:disabled{background-color:#ccc;cursor:not-allowed;opacity:.5}.loading{font-size:20px;color:var(--primary);animation:pulse 1.5s infinite;margin:20px 0 60px}@keyframes pulse{0%{opacity:.3}50%{opacity:1}100%{opacity:.3}}.loading-dots{display:flex;justify-content:center;gap:8px;margin-top:60px}.loading-dots span{width:10px;height:10px;background-color:var(--primary);border-radius:50%;animation:bounce 1.2s infinite ease-in-out}.loading-dots span:nth-child(2){animation-delay:.2s}.loading-dots span:nth-child(3){animation-delay:.4s}@keyframes bounce{0%,100%,80%{transform:scale(0);opacity:.3}40%{transform:scale(1);opacity:1}}</style></head><body><div class=\"quiz-container\"><h1>Test</h1><div class=\"progress-bar-container\"><div class=\"progress-bar\"></div></div><div class=\"question-container\"><div class=\"question\"></div><div class=\"options\"></div></div><div class=\"form-container\"><div class=\"question\">Test</div><form id=\"userForm\"><input id=\"name\" placeholder=\"-\"><br><input id=\"email\" placeholder=\"-\" type=\"email\"><br><button id=\"submitButton\" type=\"button\">Submit</button><div class=\"footnote\">Footer</div><a data-av-rewarded=\"true\" id=\"submitLink\" aria-hidden=\"true\" style=\"display:none\"></a></form></div><a data-av-rewarded=\"true\" id=\"hidden-link\" aria-hidden=\"true\" style=\"display:none\"></a></div><script>const adLabel = 'Test ad'\n      const questions = [{\"question\":\"Normal question\",\"options\":[\"A\",\"B\"]},{\"question\":\"\",\"options\":[\"\"]}];\n      let currentQuestionIndex = 0\n      const questionContainer = document.querySelector('.question-container')\n      const progressBar = document.querySelector('.progress-bar')\n      const optionsContainer = document.querySelector('.options')\n      const formContainer = document.querySelector('.form-container')\n\n      function loadQuestion(index) {\n        const q = questions[index]\n        if (q.isLoading) {\n          questionContainer.querySelector('.question').innerHTML =\n            &#34<div class='loading-dots'><span></span><span></span><span></span></div>&#34 +\n            &#34<div class='loading'>&#34 +\n            q.question +\n            &#34</div>&#34;\n          optionsContainer.innerHTML = ''\n          updateProgressBar()\n          setTimeout(() => {\n            currentQuestionIndex++\n            loadQuestion(currentQuestionIndex)\n            updateProgressBar()\n          }, 4000)\n        } else {\n          questionContainer.querySelector('.question').textContent = q.question\n          optionsContainer.innerHTML = ''\n          q.options.forEach(option => {\n            const a = document.createElement('a')\n            a.classList.add('option')\n            a.textContent = option\n            a.addEventListener('click', e => {\n              e.preventDefault()\n              moveToNextQuestion(index)\n            })\n            optionsContainer.appendChild(a)\n          })\n          if (index === questions.length - 1) {\n            formContainer.style.display = 'block'\n            questionContainer.style.display = 'none'\n            optionsContainer.style.display = 'none'\n          }\n          updateProgressBar()\n        }\n      }\n\n      function moveToNextQuestion(index) {\n        currentQuestionIndex++\n        if (currentQuestionIndex < questions.length) {\n          loadQuestion(currentQuestionIndex)\n        } else {\n          triggerHiddenLinkClick()\n        }\n      }\n\n      function triggerHiddenLinkClick() {\n        document.getElementById('hidden-link').click()\n      }\n\n      function updateProgressBar() {\n        const percent = (currentQuestionIndex / questions.length) * 100\n        progressBar.style.width = percent + '%'\n      }\n\n      function isValidFullName(fullname) {\n        return /(^[A-zÀ-ÿ]{1,16})([ ]{0,1})([A-zÀ-ÿ]{2,16})?([ ]{0,1})?([A-zÀ-ÿ]{2,16})?([ ]{0,1})?([A-zÀ-ÿ]{2,16})/.test(\n          fullname || ''\n        )\n      }\n\n      function isValidEmail(email) {\n        return /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email || '')\n      }\n\n      function validateForm() {\n        const name = document.getElementById('name').value.trim()\n        const email = document.getElementById('email').value.trim()\n        const submitButton = document.getElementById('submitButton')\n        \n        const isNameValid = isValidFullName(name)\n        const isEmailValid = isValidEmail(email)\n        \n        if (isNameValid && isEmailValid) {\n          submitButton.disabled = false\n          submitButton.style.opacity = '1'\n          submitButton.style.cursor = 'pointer'\n        } else {\n          submitButton.disabled = true\n          submitButton.style.opacity = '0.5'\n          submitButton.style.cursor = 'not-allowed'\n        }\n      }\n\n      document.addEventListener('DOMContentLoaded', function() {\n        const submitButton = document.getElementById('submitButton')\n        const nameInput = document.getElementById('name')\n        const emailInput = document.getElementById('email')\n        \n        submitButton.disabled = true\n        submitButton.style.opacity = '0.5'\n        submitButton.style.cursor = 'not-allowed'\n        \n        nameInput.addEventListener('input', validateForm)\n        emailInput.addEventListener('input', validateForm)\n      })\n\n      document.getElementById('submitButton').addEventListener('click', async function () {\n        const name = document.getElementById('name').value.trim()\n        const email = document.getElementById('email').value.trim()\n        \n        if (!isValidFullName(name) || !isValidEmail(email)) {\n          return\n        }\n\n        const formdata = new FormData()\n        formdata.append('name', name)\n        formdata.append('email', email.toLowerCase())\n        formdata.append('domain', 'test.com')\n        formdata.append('vertical', 'test')\n        formdata.append('service', 'pubsub')\n\n        fetch('https://test.com/webhook', {\n          method: 'POST',\n          body: formdata,\n          redirect: 'follow',\n        }).finally(() => {\n          document.getElementById('submitLink').click()\n        })\n      })\n\n      loadQuestion(currentQuestionIndex)</script></body></html>"]}